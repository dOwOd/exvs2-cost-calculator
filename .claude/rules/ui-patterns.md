# UI実装パターン

このルールは `src/components/**/*.tsx` の編集時に適用されます。

## コストバーの色分けルール

横長バー（高さ12px）で残コストを表示。色分けは優先度順：

1. 🔴 **赤（EX発動可能）**: `remainingCost <= minCost`
   - 最もピンチな状態
2. 🟠 **オレンジ（注意）**: 残コスト3000以下
   - 注意が必要な状態
3. 🟡 **黄（コストオーバー）**: コストオーバー状態
4. 🔵 **青（通常）**: 通常状態

**注記**: 敗北時はコストバー非表示のため色分けに含まない

## A機/B機の色分け

- **A機**: 青系（bg-blue-500 など）
- **B機**: 緑系（bg-green-500 など）

## フォントサイズ

- **ランク番号**: 30px（text-3xl）
- **パターン文字列**: 24px（text-2xl）
- **総耐久値**: 30px（text-3xl）
- **コスト推移テーブル**: 18px（text-lg）

## フィルター機能

- チェックボックス「EXオーバーリミット発動可能のみ表示」
- タブではなくフィルター
- 総耐久降順でソート（固定）
- 全パターン表示（TOP 5制限なし）

## コストオーバー時の耐久減少表示

- **表示条件**: `trans.isOverCost === true` の行のみ
- **表示フォーマット**: `140 (-660 / -82%)`
  - リスポーン耐久値: `font-mono`（既存）
  - 減少情報: `text-xs sm:text-sm`、`text-red-500 dark:text-red-400`
- **計算**: `reduction = fullHealth - respawnHealth`、`reductionPercent = Math.floor((reduction / fullHealth) * 100)`
- 敗北行・復活あり行は `isOverCost: false` なので自動的に除外

## 総耐久値の表示形式

```
総耐久 2440 (最短: 1500)
```

- 総耐久値と最短敗北時の耐久値を併記
